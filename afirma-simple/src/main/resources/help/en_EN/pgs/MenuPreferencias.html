<html>
 <head>
  <title>Menu preferences</title>
  <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
  <meta name="KEYWORDS" content="sign, CAdES, XAdES, PAdES, OOXML, ODF, format">
  <meta name="description" content="Preferences menu.">
 </head>
 <body> 
  <h2>Menu Preferences</h2>
  <p>To set up the signatures generated by the tool, go to the setup menu via the &quot;Tools&quot; -> &quot;Preferences&quot; option in the application menu bar. From this menu you can set the general application behavior and the signatures generated for each type of format.</p>
  <p>If you press the &quot;Cancel&quot; button from any of the tabs in the menu, this will be closed by ignoring any changes made; if you press the &quot;Accept&quot; button, the menu will be closed by setting the options defined in the menu and if you press the &quot;Apply now&quot; button, the changes made will be applied without closing the menu.</p>
  <h3>Menu &quot;General&quot;</h3>
  <p align="center"><img src="../gfx/menugeneral_mini.png" alt="Display for General Application Behavior Settings"></p>
  <ul>
   <li><b> General options: </b><ul>
     <li><b> Import general application settings: </b> Option to import a file from the configuration provided by an administrator.</li>
     <li><b> Restore general application settings: </b> Option to restore default settings to the application.</li>
     <li>Do not <b> ask for confirmation when closing the application: </b> Allows you to leave the application without user confirmation.</li>
     <li><b> Search for updates at home: </b> It allows you to set up if you need to search for updates available when you start the application.</li>
     <li><b> Enable JMulticard for use of FNMT and DNIe cards: </b> Just in Windows and Linux. Configure whether the Autofirma integrated driver should be used for the use of FNMT and DNIe cards. In case of deactivation, the drivers found in the system will be used. The use of this feature allows the use of compatible cards when the user does not have their driver installed or there is any incompatibility with it. This feature may result in the user being asked multiple times to insert the card PIN into mass signing processes. This setting will not take effect until the next time the application is opened.</li>
     <li><b> Optimized operation for VDI: </b> Just in Windows. Configure WebScokets communication with your browser in such a way that blocks will be avoided when using Autofirma in a VDI environment. However, this setting slows down communication when the amount of data to be transmitted is large, so it is not recommended in other settings.</li>
    </ul>
   </li>
   <li><b> Signature options: </b><ul>
     <li><b> Signature algorithm: </b> Default signing algorithm that uses the application to generate electronic signatures.</li>
     <li><b> Signature formats: </b> Set the signature format to be applied when a certain type of document is provided. Clicking on the &quot;Configuring Formats&quot; button shows a dialogue with the document types for which a specific signature format can be configured:<ul>
       <li>PDF documents</li>
       <li>Microsoft Office OOXML Documents</li>
       <li>Electronic invoices</li>
       <li>Generic XML files</li>
       <li>LibreOffice or OpenOffice ODF files</li>
       <li>Other files</li>
      </ul>
      <p>Any of these types of files can be signed with the CAdES and XAdES formats (according to the configuration set in the corresponding tabs) and some of them can be signed in specific formats.The <br> type of document &quot;Other files&quot; refers to any document that is not in any of the above categories.</p>
	  <p><b> <u> WARNING: </u> </b> It is not recommended that electronic invoices should be signed in a format other than electronic invoice.</p>
	 <li><b> Request confirmation to sign: </b> When this option is enabled, confirmation is requested from the user before signing.</li>
	 <li><b> Allow new signatures to be added to documents with invalid signatures: </b> By enabling this option, Autofirma will not prevent adding new signatures (co-signatures or counter-signatures) to documents where it is found that there are already signatures and that they are invalid (corrupt or with expired certificates).</li>
     <li><b> Overwrite files in the output directory: </b> Option to set up if it is desired that, when generating the structure of signatures directories resulting from a massive signing process, and in case of finding a file with the same name with which a signature will be stored, the pre-existing file will be overwritten by the new signature file or the signature will be saved using a new name.</li>
    </ul>
   </li>
   <li><b> Network configuration: </b><ul>
     <li><b> Accept only connections to safe sites (Recommended): </b> If this option is enabled, the confidence in the SSL certificate of the websites to which the application must connect will be checked. If you work on websites with an unrecognized SSL certificate, you may need to disable this option.</li>
    </ul>
	<ul>
     <li><b> Secure domains: </b> Option to set up a list of domains that Autofirma will treat as safe when connecting via SSL. For more information, see the <a href="VentanaListaBlancaDominios.html"> White List Settings page. </a></li>
    </ul>
    <ul>
     <li><b> Configuring proxy: </b> Option to set up the proxy for all Autofirma network connections. For more information, see the <a href="VentanaConfigurarProxy.html"> Network Proxy Settings page. </a></li>
    </ul>
	<ul>
     <li><b> Trust certificates: </b> Option to set up trust certificates on network connections. For more information, see the <a href="VentanaCertificadosConfianza.html"> Trusted Certificates page. </a></li>
    </ul>
   </li>
  </ul>
  <h3>Menu &quot;Signatures PAdES (PDF)&quot;</h3>
  <p align="center"><img src="../gfx/menufirmaspades_mini.png" alt="Screen for configuring PDF signatures"></p>
  <ul>
   <li><b> Configuration of the signature policy: </b> It makes it possible to declare the signature policy followed by PAdES signatures.<p>The values accessible through the configuration panel are:</p>
    <ul>
     <li>No policy: The PDF signatures generated shall not declare a signature policy.</li>
     <li>AGE 1.9 Signature Policy: The signature policy of the AGE v1.9 is declared.</li>
     <li>Tailored policy: It allows each of the properties of the policy to be set up manually.</li>
      <ul>
       <li>Policy identifier.</li>
       <li>Fingerprint of policy identifier.</li>
       <li>Policy ID fingerprint algorithm.</li>
       <li>Policy qualifier</li>
      </ul>
    </ul>
    </li>
    <li><b> Signature options: </b> General signature options PAdESFormato basic signature.<ul>
      <li>Basic signature format: Allows you to set the basic format of PAdES signatures:<ul>
        <li>PAdES Basic: It is the PAdES signature format generated by Adobe Acrobat and the one used by default by Autofirma.</li>
        <li>PAdES-BES: It is the format that most fits the PAdES standard, but Adobe Reader/Acrobat does not correctly validate the multisignatures generated from it.</li>
       </ul>
      </li>
      <li>Make visible signatures by default PDF: By enabling this option and signing a document in PAdES format, the user will be presented with a window for selecting the PDF area in which the visible signature will be added. See the <a href="VentanaPdfVisible.html"> Visible Signatures PDF </a> section for more detail.</li>
      <li>Ofuscar user identifiers for visible signatures certificates: By enabling this option, the user identifiers introduced into the visible PDF texts will be offended when taking the data from a certificate. The offending shall not take place when the certificate of signature is a certificate of pseudonym.</li>
      <li>Apply a visible mark to PDF documents: By enabling this option and signing a document in PAdES format, the user will be presented with a window for selecting the area and PDF pages in which a visible mark will be added. See the <a href="VentanaPdfVisible.html"> Visible Marks PDF </a> section for more detail.</li>
      <li>Generate certified PDF: By enabling this option, the user will be allowed to generate a certified PDF, with the level of certification chosen in the list below.</li>
       <ul>
        <li>Uncertified: No certified signature of the document is made, generate PAdES signature.</li>
        <li>Certified by author: No changes are allowed.</li>
        <li>Certified by author for forms: Only forms filling, signature and addition actions are permitted.</li>
        <li>Certified common: Comments, filling out forms, signing and adding pages are only allowed.</li>
       </ul>
     </ul>
    </li>
    <li><b> Metadata of PAdES signatures: </b><ul>
      <li>That is why the document is signed: Brief description of the reason for the signature.</li>
      <li>City in which the signature is made: City where the signatory is located at the time of signature.</li>
      <li>Contact of the signatory: Email address.</li>
     </ul>
    </li>
   </ul> 
  <h3>Menu &quot;CAdES signatures (binary)&quot;</h3>
  <p align="center"><img src="../gfx/menufirmascades_mini.png" alt="Screen for binary document signatures configuration"></p>
  <ul>
   <li><b> Configuration of the signature policy: </b> It makes it possible to declare the signature policy followed in the CAdES signatures:<p>The values accessible through the configuration panel are:</p>
    <ul>
     <li>No policy: The signatures generated shall not declare a policy of signature.</li>
     <li>AGE 1.9 Signature Policy: Signature policy of the AGE v1.9</li>
     <li>Tailored policy: It allows each of the properties of the policy to be set up manually.</li>
      <ul>
       <li>Policy identifier.</li>
       <li>Fingerprint of policy identifier.</li>
       <li>Policy ID fingerprint algorithm.</li>
       <li>Policy qualifier</li>
      </ul>
    </ul>
    </li>
    <li><b> Signature options: </b><ul>
      <li>Include a copy of the data signed in the firm itself: Configure whether the electronic signature should store the signed data internally.</li>
     </ul>
    </li>
    <li><b> Multi-signatory operation: </b> It allows you to configure the operation to be performed when the input file is a CAdES signature.<ul>
      <li>Co-signature: Co-sign the entry signature.</li>
      <li>Contraffirms (leaf nodes only): Contrasts the nodes of the entry signature.</li>
      <li>Contraffirms (from the whole tree): It contrasts all the signing nodes of the entry signature.</li>
     </ul>
    </li>
   </ul>
   <h3>Menu &quot;Signatures XAdES (XML)&quot;</h3>
  <p align="center"><img src="../gfx/menufirmasxades_mini.png" alt="Screen for configuring XML document signatures"></p>
  <ul>
   <li><b> Configuration of the signature policy: </b> It makes it possible to declare the signature policy followed by the XAdES signatures:<p>The values accessible through the configuration panel are:</p>
    <ul>
     <li>No policy: The XML signatures generated shall not declare a signature policy.</li>
     <li>AGE 1.9 Signature Policy: Signature policy of the AGE v1.9</li>
     <li>Tailored policy: It allows each of the properties of the policy to be set up manually.</li>
      <ul>
       <li>Policy identifier.</li>
       <li>Fingerprint of policy identifier.</li>
       <li>Policy ID fingerprint algorithm.</li>
       <li>Policy qualifier</li>
      </ul>
    </ul>
   </li>
   <li><b> Signature options: </b><ul>
	 <li><b> Format of signatures: </b><ul>
       <li>XAdES Enveloping: The enveloping mode is configured (the signature involves the signed data).</li>
       <li>XAdES Detached: The detached mode (signature and data in an XML superstructure) is configured.</li>
       <li>XAdES Enveloped: The enveloped mode is configured (the signature is inserted into the XML data).</li>
      </ul>
     </li>
    </ul>
    <p><b> <u> WARNING: </u> </b> The AGE signature policy only allows signatures to be made in Enveloped and Internally Detached formats (here referred to as Detached). These signature formats can therefore only be set up when the AGE signature policy is declared.</p>
   </li>
   <li><b> Metadata of XAdES signatures: </b><ul>
     <li>City in which the signature is made: City where the signatory is located at the time of signature.</li>
     <li>Province in which the signature is made: Province where the signatory is located at the time of signature.</li>
     <li>Postal code in which the signature is made: Postal code where the signatory is located at the time of signature.</li>
     <li>Country in which the signature is made: Country where the signatory is located at the time of signature.</li>
     <li>Position of the signatory: Position of the person making the signature.</li>
    </ul>
   </li>
  </ul>
   <h3>Menu &quot;Electronic Invoice&quot;</h3>
   <p align="center"><img src="../gfx/menufirmasfacturae_mini.png" alt="Screen for configuring electronic invoice signatures"></p>
   <ul>
    <li><b> Configuration of the signature policy: </b> It makes it possible to declare the version of the Electronic Invoice signature policy to be used.</li>
    <li><b> Signature options: </b><ul>
      <li>Role of the electronic invoice signatory: It allows you to set up the role of the signatory in the life cycle of the invoice.</li>
     </ul>
    </li>
    <li><b> Electronic invoice metadata: </b><ul>
      <li>City in which the signature is made: City where the signatory is located at the time of signature.</li>
      <li>Province in which the signature is made: Province where the signatory is located at the time of signature.</li>
      <li>Postal code in which the signature is made: Postal code where the signatory is located at the time of signature.</li>
      <li>Country in which the signature is made: Country where the signatory is located at the time of signature.</li>
     </ul>
    </li>
   </ul>
      <h3>Menu &quot;Key Stores&quot;</h3>
   <p align="center"><img src="../gfx/menualmacenesclaves_mini.png" alt="Screen for configuring electronic invoice signatures"></p>
   <ul>
    <li><b> Default store: </b><ul>
      <li>It allows you to select the key store that will be charged by default in the desktop interface.</li>
      <li>View <b> Content: </b> It allows you to view the certificates contained in the selected warehouse.</li>
      <li>Also <b> use in Autofirma calls from your browser: </b> Indicates whether you want the configured store to be the one that is charged by default also when you call Autofirma from your browser.</li>
	 </ul>
	</li>
    <li><b> Certificate filters: </b><ul>
      <li>Do <b> not display the initial screen of DNIe and always work with the default store: </b> Skip the initial screen when a DNIe is detected and the configured default store will be used.</li>
	  <li><b> Allow the use of expired certificates: </b> As this option is enabled, expired certificates will appear in the signature certificate selection dialogue, enabling them to sign with them.</li>
	  <li><b> Use only signature specific certificates in electronic signatures (non-repudiation attribute): </b> If this option is marked, only certificates specifically declaring signature shall be shown.</li>
	  <li><b> Use pseudonym certificates only when available: </b> It restricts that pseudonym certificates can only be used when they are available.</li>
	  <li><b> Skip DNIe authentication certificate: </b> Hides the authentication certificate included in the key stores for DNIe.</li>
     </ul>
    </li>
    <li><b> Smart cards: </b><ul>
      <li>It allows you to release smart cards from your PKCS#11 driver so you can use them directly as a key store accessible from the certificate select dialog. The smart cards added here can be set up as default stores in the drop-down in the first paragraph.</li>
      <li><b> Connect: </b> Perform a connection test with the key store of the selected smart card.</li>
      <li>Add <b> Card: </b> Add a new smart card. It will open a dialogue where you can enter a name for the smart card and the route where your PKCS#11 driver is located.</li>
      <li><b> Amend: </b> It allows you to modify the name and route of the selected smart card driver.</li>
	  <li><b> Remove: </b> Removes the selected smart card from the drop-down.</li>
     </ul>
    </li>
   </ul>
 </body>
</html>