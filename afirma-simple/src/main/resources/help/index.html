<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <title>Autofirma</title>
  <meta name="AppleTitle" content="Ayuda de Autofirma">
  <meta name="AppleIcon" content="AutofirmaHelpIcon.png">
  <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
  <script>
      var lg = "ES_es";
	  
      function getLanguageFolder() {
        // Segun el valor de lg se selecciona el directorio de idioma
        return "Spanish.lproj/";
      }

    function loadScreen(page) {
        var folder = getLanguageFolder();
        
        var cleanedPageAddress = cleanAddress(page);
        document.getElementById("dynamicContent").innerHTML = '<object type="text/html" data="' + folder + cleanedPageAddress + '" width="107%" style="align:right; min-height:100vh; margin: 0 auto;"></object>';
	}
    
    function cleanAddress(page) {
    	return page.replace('\\', '/').replace('..', '').replace(' ', '%20')
    		.replace('?', '%3F').replace('&', '%26').replace('<', '%3C').replace('>', '%3E');
	}
  </script>
 </head>
 <style>
 
	body {
		overflow-y: hidden;
	}
 
	.sidebar {
		height: 100%;
		min-height: 400px;
		width: 20%; 
		position: fixed; 
		z-index: 1;
		top: 0;
		left: 0;
		padding-top: 60px; 
		overflow-y: scroll;
	}
	
	.sidebar ul {
		margin:0;
		padding:0;
	}
	
	.sidebar li {
		border: 2px solid white; 
		list-style: none;
		padding: 7px;
		margin: 10px;
		background-color: #96181c; 
		text-decoration: none; 
		font-family: 'Helvetica', sans-serif; 
		border-radius: 15px; 
	}
	
	.sidebar a {
		text-decoration: none;
		color: white;
	}
	
	.content {
		margin-left: 20%;
		width:75%;
	}
</style>

 <body>

 <div id='sidebar' class='sidebar'>
   <ul>
	 <li><a href='javascript:loadScreen("Autofirma.html");'>Autofirma</a></li>
	 <li><a href='javascript:loadScreen("pgs/PantallaEspera.html");'>Esperando a la inserci&oacute;n del DNIe...</a></li>
	 <li><a href='javascript:loadScreen("pgs/PantallaFirma.html");'>Firma electr&oacute;nica de documentos</a></li>
	 <li><a href='javascript:loadScreen("pgs/PantallaDetalle.html");'>Detalle de las firmas una vez completadas</a></li>
	 <li><a href='javascript:loadScreen("pgs/MenuPreferencias.html");'>Menu de configuraci&oacute;n</a></li>
	 <li><a href='javascript:loadScreen("pgs/MenuRestauracion.html");'>Panel de restauraci&oacute;n de la instalaci&oacute;n</a></li>
	 <li><a href='javascript:loadScreen("pgs/MenuPlugins.html");'>Panel de gestion de plugins</a></li>
	 <li><a href='javascript:loadScreen("pgs/Plugins.html");'>Plugins</a></li>
	 <li><a href='javascript:loadScreen("pgs/VentanaConfigurarProxy.html");'>Ventana de configuraci&oacute;n de proxy</a></li>
	 <li><a href='javascript:loadScreen("pgs/VentanaListaBlancaDominios.html");'>Ventana de configuraci&oacute;n de lista blanca de dominios</a></li>
	 <li><a href='javascript:loadScreen("pgs/VentanaPdfVisible.html");'>Ventana de configuraci&oacute;n de elementos visibles en PDF</a></li>
	 <li><a href='javascript:loadScreen("pgs/LineaComandos.html");'>Uso por l&iacute;nea de comandos</a></li>
	 <li><a href='javascript:loadScreen("pgs/Licencia.html");'>Licencia de uso y distribucion</a></li>
   </ul>
 </div>
 <div id='dynamicContent' class='content'>
 </div>
<script>	
	var urlToString = window.location.search;
	var urlParams = new URLSearchParams(urlToString);
	var redirectPage = urlParams.get('redirectPage');
	loadScreen(redirectPage);
</script>
</body>
</html>